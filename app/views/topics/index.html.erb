<div class="error_message">
  <%= render partial: 'shared/error_messages', locals: { object: @topic } %>
</div>

<div class="topic_menu_bar_button">
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal1">
    <%= t('make topic') %>
  </button>
</div>
<div class="modal fade" id="modal1" tabindex="-1"
      role="dialog" aria-labelledby="label1" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="label1"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="topic_form">
        <%= form_with(model: @topic) do |form| %>
            <p><%= form.text_field :name, placeholder:t('topic_name') %></p>
            <p><%= form.text_field :introduce, placeholder: t('topic_introduce') %></p>
            <p>
              <%=  t('topic_logo') %>
              <label for="image-input" class="topic_upload">
              <i class="bi bi-camera"></i>
              </label>
              <%= form.file_field :image, id: "image-input" %>
            </p>
            <p><%= form.text_field :youtube, placeholder: "youtube_url" %></p>
              <p id="topic"><button type="submit" class="topic_soushin" id="create_topic_button">
              <i class="bi bi-cursor-fill"></i><%= t('make topic')%>
              </button></p>
        <% end %>
      </div>
        <p>【<%=t('Precautions when posting')%>】</p>
        <p><%= t('youtube put ID in the video') %><br>
            https://youtu.be/●●●●●●●●●●●</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="topics">
<div class="topics-container">
  <% @topics.each do |topic| %>
<div class="topic">
      <% if topic.image.present?%>
      <%= link_to topic_path(topic.id), data: {"turbolinks" => false} do %>
      <%= image_tag topic.image.url, class:"topic_icon" %>
      <%end%>
      <br><%= topic.posts.count%>posts
      <%end%>
      <p id="bk1"><%= link_to topic.name, topic_path(topic.id), data: {"turbolinks" => false} %>
      <% if topic.introduce.present? %>
      <br><%= topic.introduce %>
      <% end %>
    </p>
    </div>
  <% end %>
  </div>
</div>
</div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  